  <app-card>
    @let details = feature();
    <app-card-header [name]="details.name" [description]="details.description"  />

    @if (featureNeedsImage()) {
      <div class="w-full max-w-2xl mx-auto mb-8">
        <app-dropzone [mode]="dropzoneMode()" (filesChanged)="imageFiles.set($event)" />
      </div>
    }

    <div class="w-full max-w-2xl mx-auto">
      <app-prompt-form
        [(promptModel)]="editedPrompt"
        [additionalDisabledConditions]="additionalDisabledConditions()"
        [isLoading]="isLoading()"
        (generate)="handleGenerate($event)"
      >
        <span button-text>{{ details.buttonText }}</span>
        <span loading-text>{{ details.loadingText }}</span>
      </app-prompt-form>
      <app-prompt-history
          [history]="promptHistory()"
          (promptSelected)="handleSelectPrompt($event)"
          (historyCleared)="onClearHistory()"
      />
    </div>

    <app-error-display [error]="error()" />

    <app-gen-media
      [loadingText]="details.loadingText"
      [genMediaInput]="genMediaInput()"
      #genmedia
    >
      <p class="text-sm">{{ details.loadingText }}</p>
    </app-gen-media>
  </app-card>
