<form class="flex flex-col sm:flex-row gap-4"
  id="form"
  name="form"
  (ngSubmit)="onGenerateClick()"
>
  @let args = promptArgs();
  <textarea
    id="promptHistory"
    name="promptHistory"
    [(ngModel)]="args.userPrompt"
    [rows]="4"
    [placeholder]="placeholderText()"
    (keydown)="onEnterPress($event)"
    class="flex-grow bg-gray-700 text-gray-200 border border-gray-600 rounded-md p-3 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 resize-y placeholder-gray-400">
  </textarea>

  @let sequenceArgs = args.args;
  <div class="grid grid-cols-1 sm:grid-cols-4 gap-4">
    <div>
      <label for="image-count">Number of images</label>
      <select id="image-count" name="image-count" [(ngModel)]="sequenceArgs.numberOfImages" class="ai-dropdown">
        @for (count of numOfImagesList(); track count) {
          <option [ngValue]="count">{{ count }}</option>
        }
      </select>
    </div>
    <div>
      <label for="types">Type</label>
      <select id="types" name="type" [(ngModel)]="sequenceArgs.type" class="ai-dropdown">
        @for (type of types(); track type) {
          <option [ngValue]="type">{{ type }}</option>
        }
      </select>
    </div>
    <div>
      <label for="styles">Style</label>
      <select id="style" name="style" [(ngModel)]="sequenceArgs.style" class="ai-dropdown">
        @for (style of styleList(); track style) {
          <option [ngValue]="style">{{ style }}</option>
        }
      </select>
    </div>
    <div>
      <label for="transition">Transition</label>
      <select id="transition" name="transition" [(ngModel)]="sequenceArgs.transition" class="ai-dropdown">
        @for (transition of transitionList(); track transition) {
          <option [ngValue]="transition">{{ transition }}</option>
        }
      </select>
    </div>
  </div>
  <div>
    <button
      type="submit"
      [disabled]="isGenerationDisabled()"
    class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed transition duration-200">
    @if (isLoading()) {
      <app-spinner-icon />&nbsp;&nbsp;
      <ng-content select="[loading-text]">Generating...</ng-content>
    } @else {
        <ng-content select="[button-text]" />
      }
    </button>
  </div>
</form>
